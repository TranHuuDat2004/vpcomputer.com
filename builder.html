<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X√¢y D·ª±ng C·∫•u H√¨nh - VP Computer</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- 1. T√≠ch h·ª£p CSS c·ªßa Driver.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css"/>

    <!-- ƒê√£ c·∫≠p nh·∫≠t ƒë∆∞·ªùng d·∫´n -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/builder.css">
    
    <link rel="icon" type="image/png" href="img/favicon.png">

    <style>
        /* CSS cho n√∫t Help/Tour - ƒê·ªìng b·ªô v·ªõi trang ch·ªß */
        .tour-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: #e31837;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(227, 24, 55, 0.4);
            z-index: 9999;
            transition: all 0.3s ease;
            border: 2px solid white;
        }

        .tour-btn:hover {
            transform: scale(1.1) rotate(10deg);
            background-color: #c2152e;
        }

        /* T√πy ch·ªânh giao di·ªán Driver.js */
        .driver-popover.driverjs-theme {
            background-color: #fff;
            color: #333;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .driver-popover.driverjs-theme .driver-popover-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #e31837;
        }
        
        .driver-popover.driverjs-theme .driver-popover-description {
            font-size: 14px;
            line-height: 1.5;
            color: #555;
        }

        .driver-popover.driverjs-theme button {
            background-color: #e31837;
            color: #fff;
            text-shadow: none;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            cursor: pointer;
        }
        
        .driver-popover.driverjs-theme button:hover {
            background-color: #c2152e;
        }
    </style>
</head>

<body>
    <header-placeholder></header-placeholder>

    <!-- 2. N√∫t k√≠ch ho·∫°t l·∫°i Tour -->
    <div class="tour-btn" id="start-tour-btn" title="H∆∞·ªõng d·∫´n build PC">?</div>

    <main class="builder-main">
        <div class="container">
            <h1 class="builder-title">X√¢y D·ª±ng C·∫•u H√¨nh PC C·ªßa B·∫°n</h1>
            <div class="builder-layout">
                <div class="component-selector">
                    <!-- Th√™m data-title v√†o ƒë√¢y -->
                    <div class="component-row" data-category="cpu">
                        <div class="component-icon" data-title="1. CPU - Vi x·ª≠ l√Ω">
                            <i class="fas fa-microchip"></i>
                        </div>
                        <div class="component-details">
                            <h4>1. CPU - Vi x·ª≠ l√Ω</h4>
                            <div class="selected-item" id="selected-cpu">Ch∆∞a ch·ªçn linh ki·ªán</div>
                        </div>
                        <button class="btn-select" data-category="cpu">Ch·ªçn</button>
                    </div>

                    <!-- T∆∞∆°ng t·ª± cho c√°c d√≤ng c√≤n l·∫°i -->
                    <div class="component-row" data-category="mainboard">
                        <div class="component-icon" data-title="2. Mainboard - Bo m·∫°ch ch·ªß">
                            <i class="fas fa-server"></i>
                        </div>
                        <div class="component-details">
                            <h4>2. Mainboard - Bo m·∫°ch ch·ªß</h4>
                            <div class="selected-item" id="selected-mainboard">Ch∆∞a ch·ªçn linh ki·ªán</div>
                        </div>
                        <button class="btn-select" data-category="mainboard">Ch·ªçn</button>
                    </div>

                    <div class="component-row" data-category="ram">
                        <div class="component-icon" data-title="3. RAM">
                            <i class="fas fa-memory"></i>
                        </div>
                        <div class="component-details">
                            <h4>3. RAM</h4>
                            <div class="selected-item" id="selected-ram">Ch∆∞a ch·ªçn linh ki·ªán</div>
                        </div>
                        <button class="btn-select" data-category="ram">Ch·ªçn</button>
                    </div>

                    <div class="component-row" data-category="vga">
                        <div class="component-icon" data-title="4. VGA - Card ƒë·ªì h·ªça">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="component-details">
                            <h4>4. VGA - Card ƒë·ªì h·ªça</h4>
                            <div class="selected-item" id="selected-vga">Ch∆∞a ch·ªçn linh ki·ªán</div>
                        </div>
                        <button class="btn-select" data-category="vga">Ch·ªçn</button>
                    </div>

                    <div class="component-row" data-category="psu">
                        <div class="component-icon" data-title="5. PSU - Ngu·ªìn">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="component-details">
                            <h4>5. PSU - Ngu·ªìn</h4>
                            <div class="selected-item" id="selected-psu">Ch∆∞a ch·ªçn linh ki·ªán</div>
                        </div>
                        <button class="btn-select" data-category="psu">Ch·ªçn</button>
                    </div>
                </div>
                <aside class="summary-panel">
                    <h3>C·∫•u H√¨nh C·ªßa B·∫°n</h3>
                    <div class="compatibility-check">
                        <h4>Ki·ªÉm tra t∆∞∆°ng th√≠ch:</h4>
                        <ul id="compatibility-messages">
                            <li class="info">H√£y ch·ªçn CPU v√† Mainboard ƒë·ªÉ b·∫Øt ƒë·∫ßu.</li>
                        </ul>
                    </div>
                    <div class="price-summary">
                        <h4>T·∫°m t√≠nh:</h4>
                        <p id="total-price">0ƒë</p>
                    </div>
                    <button class="btn-add-to-cart" disabled>Th√™m v√†o gi·ªè h√†ng</button>
                </aside>
            </div>
        </div>
    </main>

    <div id="product-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">√ó</span>
            <h3 id="modal-title">Ch·ªçn m·ªôt linh ki·ªán</h3>
            <div id="modal-product-list"></div>
        </div>
    </div>

    <!-- Footer s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
    <footer-placeholder></footer-placeholder>
    <!-- TH√äM "V·ªä TR√ç CH·ªú" CHO GI·ªé H√ÄNG V√ÄO ƒê√ÇY -->
    <aside id="cart-sidebar" class="cart-sidebar"></aside>

    <!-- SCRIPT: LU√îN ƒê·∫∂T ·ªû CU·ªêI BODY -->
    <script src="js/data.js"></script> 

    <script src="js/cart.js"></script> 
    <script src="js/header.js"></script>
    <script src="js/footer.js"></script>
    <script src="js/builder.js"></script>

    <!-- 3. T√≠ch h·ª£p Script c·ªßa Driver.js & C·∫•u h√¨nh Tour -->
    <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const driver = window.driver.js.driver;
            
            const driverObj = driver({
                showProgress: true,
                animate: true,
                doneBtnText: 'B·∫Øt ƒë·∫ßu build!',
                nextBtnText: 'Ti·∫øp theo',
                prevBtnText: 'Quay l·∫°i',
                popoverClass: 'driverjs-theme',
                steps: [
                    { 
                        element: '.builder-title', 
                        popover: { 
                            title: 'T·ª± Build PC üñ•Ô∏è', 
                            description: 'C√¥ng c·ª• gi√∫p b·∫°n t·ª± tay ch·ªçn l·ª±a t·ª´ng linh ki·ªán ƒë·ªÉ l·∫Øp r√°p b·ªô m√°y t√≠nh m∆° ∆∞·ªõc.', 
                            side: "bottom", 
                            align: 'center' 
                        } 
                    },
                    { 
                        element: '.component-selector', 
                        popover: { 
                            title: 'Ch·ªçn Linh Ki·ªán üñ±Ô∏è', 
                            description: 'B·∫Øt ƒë·∫ßu b·∫±ng vi·ªác ch·ªçn CPU. H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông l·ªçc ra c√°c Mainboard t∆∞∆°ng th√≠ch (Socket) v·ªõi CPU b·∫°n v·ª´a ch·ªçn.', 
                            side: "top", 
                            align: 'center' 
                        } 
                    },
                    { 
                        element: '.compatibility-check', 
                        popover: { 
                            title: 'Ki·ªÉm Tra T∆∞∆°ng Th√≠ch ‚úÖ', 
                            description: 'ƒê·ª´ng lo l·∫Øng v·ªÅ vi·ªác mua nh·∫ßm! Ch√∫ng t√¥i s·∫Ω ki·ªÉm tra xem CPU v√† Mainboard c√≥ l·∫Øp v·ª´a v·ªõi nhau kh√¥ng.', 
                            side: "left", 
                            align: 'center' 
                        } 
                    },
                    { 
                        element: '.price-summary', 
                        popover: { 
                            title: 'D·ª± To√°n Chi Ph√≠ üí∞', 
                            description: 'T·ªïng gi√° ti·ªÅn s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t li√™n t·ª•c khi b·∫°n th√™m ho·∫∑c thay ƒë·ªïi linh ki·ªán.', 
                            side: "left", 
                            align: 'center' 
                        } 
                    },
                    { 
                        element: '.btn-add-to-cart', 
                        popover: { 
                            title: 'Ho√†n T·∫•t üõí', 
                            description: 'Sau khi ch·ªçn ƒë·ªß 5 m√≥n linh ki·ªán c∆° b·∫£n, n√∫t n√†y s·∫Ω s√°ng l√™n ƒë·ªÉ b·∫°n th√™m to√†n b·ªô v√†o gi·ªè h√†ng.', 
                            side: "left", 
                            align: 'center' 
                        } 
                    }
                ]
            });

            // T·ª± ƒë·ªông ch·∫°y l·∫ßn ƒë·∫ßu
            const hasSeenBuilderTour = localStorage.getItem('hasSeenBuilderTour');
            if (!hasSeenBuilderTour) {
                // ƒê·ª£i 1 ch√∫t ƒë·ªÉ UI ·ªïn ƒë·ªãnh
                setTimeout(() => {
                    driverObj.drive();
                    localStorage.setItem('hasSeenBuilderTour', 'true');
                }, 1000);
            }

            // G√°n s·ª± ki·ªán cho n√∫t ?
            document.getElementById('start-tour-btn').addEventListener('click', () => {
                driverObj.drive();
            });
        });
    </script>
</body>

</html>